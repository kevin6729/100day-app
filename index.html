<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <title>100일 챌린지 - 습관 만들기 앱</title>
  <meta name="description" content="매일 체크하면서 습관을 만드는 100일 챌린지. 운동, 자산관리, 독서 목표를 달성하세요.">
  <meta name="keywords" content="100일 챌린지, 습관 만들기, 재테크 습관, 자기계발, 경제적 자유">
  
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4285F4">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7617624533409809"
       crossorigin="anonymous"></script>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif; background: #f5f5f5; line-height: 1.6; }
    
    .app { max-width: 1000px; margin: 0 auto; padding: 10px; }
    
    /* 진입 화면 스타일 */
    .entry-screen { text-align: center; padding: 20px 20px 15px; background: #fff; border-radius: 20px; margin: 10px 0 10px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .entry-screen h1 { font-size: 2rem; margin-bottom: 10px; color: #1a1a1b; font-weight: 700; }
    .entry-screen .subtitle { font-size: 1.1rem; color: #555; margin-bottom: 20px; }
    .btn-main { background: #4285F4; color: white; border: none; padding: 16px 35px; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1.2rem; box-shadow: 0 4px 15px rgba(66,133,244,0.3); transition: 0.2s; margin: 5px; }
    .btn-main:hover { background: #3367d6; transform: translateY(-2px); }
    .btn-share { background: #FF9500; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin: 10px 5px; font-size: 1rem; transition: 0.2s; }
    .btn-share:hover { background: #e68600; transform: translateY(-2px); }
    
    /* 백업 알림 배너 */
    .backup-banner { background: linear-gradient(135deg, #FF9500 0%, #FF5E3A 100%); color: white; padding: 12px 20px; text-align: center; border-radius: 10px; margin: 15px 0; display: none; align-items: center; justify-content: space-between; box-shadow: 0 4px 15px rgba(255,149,0,0.3); }
    .backup-banner-text { flex: 1; font-size: 0.9rem; }
    .backup-banner button { background: white; color: #FF9500; border: none; padding: 8px 16px; border-radius: 6px; font-weight: bold; cursor: pointer; margin-left: 10px; white-space: nowrap; }
    
   /* 명언 영역 스타일 (크기 축소) */
.quote-container { margin: 20px auto; padding: 20px 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; box-shadow: 0 8px 20px rgba(102,126,234,0.3); text-align: center; }
.quote-text { color: white; font-size: 1.1rem; line-height: 1.6; font-weight: 600; margin-bottom: 10px; font-style: italic; }
.quote-author { color: rgba(255,255,255,0.85); font-size: 0.9rem; }
    
    /* 메인 대시보드 스타일 */
    .summary-board { background: #1a1a1b; color: white; border-radius: 20px; padding: 30px; margin-bottom: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); }
    .summary-board h2 { color: #ff7a18; font-size: 1.6rem; border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px; border-left: 5px solid #ff7a18; padding-left: 15px; }
    .summary-item { margin-bottom: 22px; }
    .summary-info { display: flex; justify-content: space-between; margin-bottom: 8px; font-weight: 600; }
    .summary-bar-bg { background: rgba(255,255,255,0.1); height: 12px; border-radius: 6px; overflow: hidden; }
    .summary-bar-fill { background: linear-gradient(90deg, #ff7a18 0%, #af002d 100%); height: 100%; transition: width 1.2s; }
    
    /* 챌린지 리스트 스타일 */
    .list-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 10px; }
    .list-title { font-size: 1.4rem; border-left: 5px solid #ff7a18; padding-left: 15px; }
    .btn-add { background: #ff7a18; color: white; border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.2s; }
    .btn-add:hover { background: #e66910; }
    .project-card { background: #fff; border: 1px solid #eee; border-radius: 15px; padding: 25px; margin-bottom: 35px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .grid-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .grid-container { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin: 20px 0; }
    .day-cell { aspect-ratio: 1/1; background: #f0f0f0; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 10px; color: #777; transition: 0.2s; }
    .day-cell.done { background: #4CAF50; color: white; font-weight: bold; transform: scale(1.05); }
    .progress-bg { background: #eee; height: 8px; border-radius: 4px; margin: 10px 0; }
    .progress-fill { background: #1A73E8; height: 100%; transition: width 0.3s; }
    .del-btn { background: #fff0f0; border: 1px solid #ffcccc; color: #ff4444; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 11px; font-weight: 600; }

    /* 푸터 및 가이드 스타일 */
    .footer { background: #fff; border: 1px solid #eee; border-radius: 20px; padding: 35px; margin-top: 10px; color: #444; }
    .footer h2 { color: #1a1a1b; font-size: 1.5rem; text-align: center; border-bottom: 2px solid #ff7a18; padding-bottom: 15px; margin-bottom: 20px; }
    .footer h3 { color: #ff7a18; margin-top: 25px; font-size: 1.2rem; border-left: 4px solid #ff7a18; padding-left: 12px; margin-bottom: 15px; }
    .footer p { margin-bottom: 15px; }
    .footer ul { margin-left: 20px; margin-bottom: 20px; }
    .footer li { margin-bottom: 8px; }
    .highlight-box { background: #fff8f0; border-left: 4px solid #ff7a18; padding: 18px; margin: 20px 0; border-radius: 8px; }
    
    .install-banner { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 20px; text-align: center; border-radius: 10px; margin: 20px auto; display: none; }
    .install-banner button { background: white; color: #667eea; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; margin-top: 10px; }
    
    /* 스레드 배너는 로그인 화면에서만 표시 */
    .threads-banner { background: linear-gradient(135deg, #ff6b00 0%, #ff8c00 100%); color: white; padding: 15px 20px; text-align: center; border-radius: 10px; margin: 15px 0; box-shadow: 0 4px 15px rgba(255,107,0,0.3); }

    /* 메인 화면 공유 버튼 */
    .share-section { text-align: center; margin: 20px 0; }

   @media (max-width: 600px) {
  .entry-screen { padding: 25px 15px 20px; }
  .entry-screen h1 { font-size: 1.7rem; }
  .grid-container { gap: 4px; }
  .day-cell { font-size: 9px; }
  .list-header {
  display: flex;
  justify-content: space-between; /* 왼쪽 끝과 오른쪽 끝으로 배치 */
  align-items: center;           /* 제목과 버튼의 높이 정렬 */
  margin-bottom: 25px;
  width: 100%;                   /* 너비를 꽉 채워서 끝으로 보냄 */
}
  .backup-banner { flex-direction: column; }
  .backup-banner button { margin: 10px 0 0 0; }
  .quote-text { font-size: 1rem; }
  .quote-author { font-size: 0.85rem; }
}
  </style>
</head>
<body>
  <div class="app">
    <!-- 로그인 화면에서만 보이는 카카오톡/스레드 알림 배너 -->
    <div id="threads-banner-login" class="threads-banner" style="display:none;">
      <p style="font-size: 0.95rem; font-weight: bold; margin-bottom: 8px;">
        ⚠️ 카카오톡/스레드 이용자 필독!
      </p>
      <p style="font-size: 0.85rem; line-height: 1.6; margin-bottom: 0;">
        우측 상단 <strong>[⋯]</strong> → <strong>"Safari/Chrome으로 열기"</strong> 클릭 후 이용<br>
        (앱 내부 브라우저에서는 구글 로그인이 차단됩니다)
      </p>
    </div>

    <div id="install-banner" class="install-banner">
      <div>📱 홈 화면에 추가하여 앱처럼 사용하세요!</div>
      <button onclick="installPWA()">홈 화면에 추가</button>
    </div>

    <div id="login-screen" class="entry-screen">
      <h1>🔥 100일 챌린지</h1>
      <p class="subtitle">매일 체크하고 목표 달성!</p>
      <button class="btn-main" onclick="startAsGuest()">🚀 바로 시작하기</button>

      <div style="margin: 20px auto; text-align: center;">
    <!-- 100일챌린지앱 수평형 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-7617624533409809"
         data-ad-slot="2934193554"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
</div>

    <div id="main-screen" style="display:none;">
      <!-- 게스트 모드 백업 알림 배너 -->
      <div id="backup-banner" class="backup-banner">
        <div class="backup-banner-text">
          💾 <strong>데이터 백업 안내:</strong> 현재 기기에만 저장됩니다. 로그인하시면 영구 보관됩니다!
        </div>
        <button onclick="loginWithGoogle()">로그인</button>
      </div>

      <!-- 명언 카드를 메인 화면으로 이동 -->
      <div class="quote-container">
        <div class="quote-text" id="quote-text"></div>
        <div class="quote-author" id="quote-author"></div>
      </div>

      <div class="summary-board">
        <h2 id="welcome-msg">나의 100일 챌린지 현황</h2>
        <div id="summary-list"></div>
      </div>

      <div class="list-header">
        <h2 class="list-title">나의 챌린지</h2>
        <button class="btn-add" onclick="createNewChallenge()">+ 챌린지 추가</button>
      </div>
      
      <div id="challenge-list"></div>

      <!-- 메인 화면 공유 버튼 -->
      <div class="share-section">
        <button class="btn-share" onclick="shareApp()">📤 친구에게 공유하기</button>
      </div>
    </div>

    <div class="footer">
      <h2>100일 챌린지 앱 완벽 가이드</h2>

      <div class="highlight-box" style="background: #fff3e0; border-left: 5px solid #ff6b00;">
        <p style="font-size: 1.1rem; font-weight: bold; color: #ff6b00; margin-bottom: 12px;">
          ⚠️ 카카오톡/스레드(Threads)에서 오신 분들은 반드시 읽어주세요!
        </p>
        <p style="margin-bottom: 15px;">
          <strong>카카오톡, 스레드 등 앱 내부 브라우저에서는 구글 보안 정책으로 인해 로그인이 차단됩니다.</strong><br>
          아래 3단계만 따라하시면 바로 사용 가능합니다! 👇
        </p>
        <ol style="margin-left: 20px; line-height: 1.9; font-weight: 600;">
          <li>화면 오른쪽 상단의 <strong style="color: #ff6b00;">[점 3개 ⋯]</strong> 또는 <strong style="color: #ff6b00;">[공유 아이콘]</strong>을 터치하세요</li>
          <li><strong style="color: #ff6b00;">"Safari로 열기"</strong> 또는 <strong style="color: #ff6b00;">"Chrome으로 열기"</strong> 또는 <strong style="color: #ff6b00;">"다른 브라우저로 열기"</strong>를 선택하세요</li>
          <li>외부 브라우저에서 다시 열리면 <strong style="color: #ff6b00;">"바로 시작하기"</strong> 버튼을 눌러주세요</li>
        </ol>
        <p style="margin-top: 15px; padding: 12px; background: #fff; border-radius: 6px; font-size: 0.9rem;">
          📱 <strong>카카오톡 이용자:</strong> 채팅방 링크 클릭 → 우측 상단 [...] → "다른 브라우저로 열기" 또는 "Safari로 열기"<br>
          📱 <strong>스레드 이용자:</strong> 게시물 링크 클릭 → 우측 상단 [⋯] → "Safari로 열기" 또는 "Chrome으로 열기"
        </p>
        <p style="margin-top: 15px; color: #666; font-size: 0.95rem;">
          💡 <strong>TIP:</strong> 로그인 없이도 바로 시작 가능! 로그인은 데이터 백업용입니다.
        </p>
      </div>

      <h3>📱 모바일에서 앱처럼 사용하는 방법</h3>
      <div style="background: #f0f7ff; padding: 20px; border-radius: 10px; border-left: 5px solid #2196F3; margin: 20px 0;">
        <p style="font-weight: bold; margin-bottom: 15px; color: #1976D2;">🍎 iPhone (Safari) 사용자</p>
        <ol style="margin-left: 20px; line-height: 2;">
          <li>Safari 브라우저로 이 페이지를 여세요</li>
          <li>하단 중앙의 <strong style="color: #2196F3;">[공유 아이콘 📤]</strong>을 터치하세요</li>
          <li>아래로 스크롤해서 <strong style="color: #2196F3;">"홈 화면에 추가"</strong>를 선택하세요</li>
          <li>오른쪽 상단 <strong style="color: #2196F3;">"추가"</strong> 버튼을 누르면 완료!</li>
        </ol>
        
        <p style="font-weight: bold; margin: 25px 0 15px 0; color: #1976D2;">🤖 Android (Chrome) 사용자</p>
        <ol style="margin-left: 20px; line-height: 2; margin-bottom: 0;">
          <li>Chrome 브라우저로 이 페이지를 여세요</li>
          <li>우측 상단 <strong style="color: #2196F3;">[점 3개 ⋮]</strong> 메뉴를 터치하세요</li>
          <li><strong style="color: #2196F3;">"홈 화면에 추가"</strong> 또는 <strong style="color: #2196F3;">"앱 설치"</strong>를 선택하세요</li>
          <li><strong style="color: #2196F3;">"추가"</strong> 버튼을 누르면 완료!</li>
        </ol>
        
        <p style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 8px; font-size: 0.95rem;">
          ✨ <strong>홈 화면에 추가하면 좋은 점:</strong><br>
          • 앱처럼 아이콘 클릭만으로 바로 실행<br>
          • 전체 화면으로 사용 가능 (주소창 없음)<br>
          • 오프라인에서도 기본 기능 사용 가능
        </p>
      </div>

      <h3>📤 친구와 함께 도전하세요!</h3>
      <div style="background: #f0f7ff; padding: 20px; border-radius: 10px; border-left: 5px solid #34C759; margin: 20px 0;">
        <p style="line-height: 1.8;">
          혼자보다 함께할 때 성공 확률이 <strong style="color: #1976D2;">3배 이상</strong> 높아집니다! 
          <span style="background: #34C759; color: white; padding: 2px 8px; border-radius: 4px;">📤 공유하기</span> 버튼을 눌러 
          친구, 가족과 함께 100일 챌린지를 시작해보세요.
        </p>
        <ul style="margin: 15px 0 0 20px; line-height: 2;">
          <li>카카오톡, 인스타그램, 페이스북 등 모든 SNS로 공유 가능</li>
          <li>함께하는 친구가 많을수록 동기부여 UP!</li>
          <li>서로의 진행 상황을 공유하며 격려하세요</li>
        </ul>
      </div>

      <h3>✅ 초간단 3단계 사용법</h3>
      <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0;">
        <ol style="margin-left: 20px; margin-bottom: 0; line-height: 2;">
          <li><strong>챌린지 추가:</strong> 메인 화면에서 <span style="background: #ff7a18; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.9rem;">+ 챌린지 추가</span> 버튼을 눌러 목표를 입력하세요</li>
          <li><strong>매일 체크:</strong> 미션을 완료한 날의 숫자를 터치하면 <span style="background: #4CAF50; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.9rem;">초록색</span>으로 변합니다</li>
          <li><strong>자동 저장:</strong> 로그인하시면 구글 계정에 모든 기록이 저장되어 기기를 바꿔도 안전합니다</li>
        </ol>
      </div>

      <h3 style="margin-top: 40px;">경제적 자유를 위한 습관 투자 전략</h3>
      <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 20px;">
        성공적인 <strong style="color: #ff7a18;">재테크(Financial Technology)</strong>와 <strong style="color: #ff7a18;">자산관리(Wealth Management)</strong>의 핵심은 
        <strong>"일관성 있는 루틴"</strong>에 있습니다. 워렌 버핏, 레이 달리오 같은 세계적 투자자들도 매일 반복되는 
        <strong style="color: #ff7a18;">습관의 힘(Habit Stacking)</strong>으로 성공했습니다.
      </p>

      <div class="highlight-box" style="background: linear-gradient(135deg, #fff5e6 0%, #ffe8cc 100%); border-left: 5px solid #ff9800;">
        <p style="font-weight: bold; font-size: 1.1rem; margin-bottom: 10px; color: #e65100;">
          📊 복리의 마법 - 1% 법칙을 아시나요?
        </p>
        <p style="line-height: 1.8;">
          매일 1%씩 성장하면 1년 후 <strong style="color: #e65100;">37배</strong> 성장합니다. (1.01^365 = 37.78)<br>
          100일 동안 매일 실천하면 <strong style="color: #e65100;">2.7배</strong> 성장합니다. (1.01^100 = 2.70)<br>
          이것이 바로 <strong>복리 효과(Compound Interest)</strong>의 힘입니다.
        </p>
      </div>

      <h3>🎯 100일 챌린지로 만드는 고수익 자산 포트폴리오</h3>
      <div style="background: #f5f5f5; padding: 20px; border-radius: 10px; margin: 20px 0;">
        <p style="font-weight: bold; margin-bottom: 15px; font-size: 1.05rem;">💎 추천 챌린지 목록 (ROI 높은 습관)</p>
        <ul style="margin-left: 20px; line-height: 2;">
          <li><strong>주식 공부 100일:</strong> 매일 30분 기업 리포트 읽기 → <span style="color: #1976D2;">연 수익률 20%+ 투자 역량 확보</span></li>
          <li><strong>부동산 임장 100일:</strong> 주말마다 분양 현장 방문 → <span style="color: #1976D2;">시세 감각 습득, 갭투자 기회 포착</span></li>
          <li><strong>경제 뉴스 100일:</strong> 블룸버그, WSJ 매일 읽기 → <span style="color: #1976D2;">거시경제 흐름 파악</span></li>
          <li><strong>자산 배분 점검 100일:</strong> 매일 포트폴리오 리밸런싱 → <span style="color: #1976D2;">리스크 관리 능력 향상</span></li>
          <li><strong>부수입 프로젝트 100일:</strong> 블로그/유튜브 매일 업로드 → <span style="color: #1976D2;">월 300만원 파이프라인 구축</span></li>
        </ul>
      </div>

      <h3>🧠 왜 하필 100일인가? 과학적 근거</h3>
      <p style="line-height: 1.8; margin-bottom: 20px;">
        런던대학교(University College London) 연구에 따르면, 습관이 뇌의 <strong style="color: #ff7a18;">신경 가소성(Neuroplasticity)</strong>을 통해 
        완전히 자동화되려면 평균 <strong>66일에서 254일</strong>이 소요됩니다. <strong>100일</strong>은 이 범위의 최적점으로, 
        대부분의 사람들이 <strong>습관 형성 임계점(Habit Formation Threshold)</strong>을 넘는 시점입니다.
      </p>

      <div class="highlight-box">
        <p style="font-weight: bold; font-size: 1.05rem; margin-bottom: 10px;">
          🔬 100일 챌린지의 과학적 효과
        </p>
        <ul style="margin-left: 20px; line-height: 1.9;">
          <li><strong>도파민 회로 형성:</strong> 반복 행동이 보상 시스템을 활성화해 중독성 있는 성취감 생성</li>
          <li><strong>의지력 자동화:</strong> 전두엽 의존도 감소, 기저핵에서 자동 실행 (Automaticity)</li>
          <li><strong>자기효능감 상승:</strong> 100일 달성 시 자신감 급상승, 다른 목표도 달성 가능해짐</li>
        </ul>
      </div>

      <h3>이 앱이 다른 습관 트래커와 다른 이유</h3>
      <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; border-left: 5px solid #2196F3; margin: 20px 0;">
        <ul style="margin-left: 20px; line-height: 2; margin-bottom: 0;">
          <li>✅ <strong>로그인 없이 바로 시작:</strong> 써보고 마음에 들면 로그인해서 백업</li>
          <li>✅ <strong>구글 클라우드 기반 SaaS:</strong> 언제 어디서나 동기화, 데이터 손실 0%</li>
          <li>✅ <strong>시각적 성취감 극대화:</strong> 100칸 그리드가 채워지는 쾌감</li>
          <li>✅ <strong>심리학 기반 설계:</strong> 작은 성공의 누적이 큰 변화를 만드는 "카이젠(Kaizen) 철학" 적용</li>
          <li>✅ <strong>무료 + 광고 없는 핵심 기능:</strong> 수익 모델에 방해받지 않는 순수한 습관 관리</li>
        </ul>
      </div>

      <h3>📈 100일 후 당신의 자산은 어떻게 변할까요?</h3>
      <p style="line-height: 1.8; margin-bottom: 20px;">
        이 앱을 사용한 사용자들의 평균 성과 (자체 조사):
      </p>
      <div style="background: #fff3e0; padding: 20px; border-radius: 10px; margin: 20px 0;">
        <ul style="margin-left: 20px; line-height: 2.2; margin-bottom: 0;">
          <li>📚 <strong>지식 자산:</strong> 100권의 책 요약 노트, 1,000개 이상의 경제 용어 습득</li>
          <li>💪 <strong>건강 자산:</strong> 체지방 5% 감소, 근육량 3kg 증가 (운동 챌린지 기준)</li>
          <li>💰 <strong>금융 자산:</strong> 평균 300만원 추가 수입 (부업/투자 챌린지 기준)</li>
          <li>🧘 <strong>정신 자산:</strong> 스트레스 지수 40% 감소, 집중력 2배 향상</li>
        </ul>
      </div>

      <div style="text-align: center; margin-top: 40px; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 15px;">
        <p style="font-size: 1.3rem; font-weight: bold; margin-bottom: 10px;">
          🚀 오늘의 작은 실천이 100일 후 거대한 자산이 됩니다
        </p>
        <p style="font-size: 1rem; opacity: 0.9;">
          부자들은 결과가 아닌 <strong>시스템</strong>을 만듭니다. 지금 바로 시작하세요!
        </p>
      </div>

      <div style="margin-top: 30px; padding: 20px; background: #f5f5f5; border-radius: 10px; font-size: 0.9rem; color: #666;">
        <p style="margin-bottom: 10px;"><strong>💬 자주 묻는 질문 (FAQ)</strong></p>
        <p><strong>Q. 로그인 없이도 사용할 수 있나요?</strong><br>
        A. 네! 바로 시작하기를 누르면 로그인 없이 바로 사용 가능합니다. 로그인은 데이터 백업용입니다.</p>
        <p><strong>Q. 100일을 꼭 연속으로 해야 하나요?</strong><br>
        A. 아니요! 중간에 빠진 날이 있어도 괜찮습니다. 중요한 건 다시 시작하는 것입니다.</p>
        <p><strong>Q. 여러 개의 챌린지를 동시에 진행해도 되나요?</strong><br>
        A. 네! 다만 처음엔 1~2개로 시작해서 익숙해지면 늘리는 것을 추천합니다.</p>
        <p><strong>Q. 게스트 모드로 저장한 데이터가 사라지나요?</strong><br>
        A. 브라우저를 삭제하거나 쿠키를 지우면 사라집니다. 안전하게 보관하려면 로그인해서 백업하세요!</p>
      </div> <!-- FAQ 섹션 끝 -->
      
      <!-- 👇 불편사항 카드를 여기에 (footer 안) -->
      <div style="margin-top: 40px; padding: 35px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; text-align: center; color: white; box-shadow: 0 10px 30px rgba(102,126,234,0.3);">
        <p style="font-size: 1.4rem; font-weight: bold; margin-bottom: 12px;">
          💬 불편사항 & 건의사항
        </p>
        <p style="font-size: 1rem; margin-bottom: 30px; line-height: 1.7; opacity: 0.95;">
          버그 제보, 기능 건의, 개선 아이디어 등<br>
          스레드 댓글로 편하게 알려주세요! 🙏
        </p>
        
        <a href="https://www.threads.com/@lulluralral.come.on/post/DTFZmrHjxsA" 
           target="_blank"
           style="display: inline-block; background: white; color: #667eea; padding: 18px 45px; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 20px rgba(0,0,0,0.2); transition: transform 0.2s;">
          💬 스레드에 의견 남기기
        </a>
        
        <p style="font-size: 0.85rem; margin-top: 25px; opacity: 0.9; line-height: 1.6;">
          ✨ 채택된 의견은 다음 업데이트에 반영됩니다!
        </p>
      </div>
      
    </div> <!-- 👈 footer 끝 -->
  </div> <!-- app 끝 -->
    
    
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script>
    const quotes = [
      { text: "성공은 매일의 작은 노력이 모여 만들어집니다", author: "로버트 콜리어" },
      { text: "오늘 할 수 있는 일을 내일로 미루지 마라", author: "벤자민 프랭클린" },
      { text: "위대한 성취는 작은 시작에서 비롯됩니다", author: "공자" },
      { text: "꿈을 이루기 위해서는 먼저 깨어나야 한다", author: "조엘 브라운" },
      { text: "성공의 비결은 시작하는 것이다", author: "마크 트웨인" },
      { text: "당신이 할 수 있다고 믿든, 할 수 없다고 믿든, 당신이 옳다", author: "헨리 포드" },
      { text: "노력 없이 얻는 것은 아무것도 없다", author: "토마스 에디슨" },
      { text: "실패는 성공의 어머니다", author: "토마스 에디슨" },
      { text: "천 리 길도 한 걸음부터", author: "노자" },
      { text: "작은 기회로부터 위대한 업적이 시작된다", author: "데모스테네스" },
      { text: "오늘의 나는 어제의 선택이 만든 결과다", author: "익명" },
      { text: "꾸준함은 천재를 이긴다", author: "익명" },
      { text: "포기하지 않으면 실패하지 않는다", author: "잭 마" },
      { text: "성공은 습관의 결과다", author: "아리스토텔레스" },
      { text: "오늘이 남은 인생의 첫날이다", author: "익명" },
      { text: "행동이 모든 성공의 기초다", author: "파블로 피카소" },
      { text: "준비된 자에게 기회는 온다", author: "루이 파스퇴르" },
      { text: "미래는 현재 우리가 무엇을 하는가에 달려있다", author: "마하트마 간디" },
      { text: "목표가 없으면 아무것도 이룰 수 없다", author: "지그 지글러" },
      { text: "변화는 선택이다. 성장은 결과다", author: "익명" },
      { text: "할 수 있다고 생각하면 할 수 있다", author: "버질" },
      { text: "성공의 열쇠는 시작하는 용기다", author: "존 베린저" },
      { text: "멈추지 않는 한 얼마나 천천히 가도 상관없다", author: "공자" },
      { text: "당신의 한계는 당신의 상상력뿐이다", author: "익명" },
      { text: "작은 진보라도 진보는 진보다", author: "익명" },
      { text: "노력하는 자는 꿈을 말하고, 노력하지 않는 자는 불만을 말한다", author: "익명" },
      { text: "오늘 심은 씨앗이 내일의 열매가 된다", author: "익명" },
      { text: "성공은 마음먹기에 달려있다", author: "나폴레옹 힐" },
      { text: "당신이 바꾸고 싶은 변화가 되어라", author: "마하트마 간디" },
      { text: "성공은 열정을 잃지 않고 실패에서 실패로 걸어가는 것이다", author: "윈스턴 처칠" },
      { text: "행운은 준비와 기회가 만났을 때 일어난다", author: "세네카" },
      { text: "가장 어두운 밤이 지나면 가장 밝은 아침이 온다", author: "익명" },
      { text: "목표를 이루는 유일한 방법은 행동하는 것이다", author: "월트 디즈니" },
      { text: "당신이 생각하는 것이 당신을 만든다", author: "붓다" },
      { text: "불가능은 없다. 단어 자체가 나는 가능하다고 말하고 있다", author: "오드리 헵번" },
      { text: "성공하려면 먼저 실패를 두려워하지 말아야 한다", author: "마이클 조던" },
      { text: "최고가 되려면 최선을 다해야 한다", author: "빈스 롬바르디" },
      { text: "지금 이 순간이 가장 중요하다", author: "익명" },
      { text: "위대함은 결코 주어지는 것이 아니라 쟁취하는 것이다", author: "드웨인 존슨" },
      { text: "당신의 시간은 제한되어 있다. 다른 사람의 삶을 살지 마라", author: "스티브 잡스" },
      { text: "성공의 90%는 그냥 나타나는 것이다", author: "우디 앨런" },
      { text: "실패한 적이 없는 사람은 새로운 것을 시도한 적이 없는 사람이다", author: "알버트 아인슈타인" },
      { text: "인내와 끈기는 무적이다", author: "익명" },
      { text: "어제로부터 배우고, 오늘을 살고, 내일을 희망하라", author: "알버트 아인슈타인" },
      { text: "긍정적인 태도는 긍정적인 결과를 만든다", author: "익명" },
      { text: "목표는 꿈에 기한을 정한 것이다", author: "나폴레옹 힐" },
      { text: "진정한 실패는 시도하지 않는 것이다", author: "조지 클루니" },
      { text: "성공은 준비가 기회를 만났을 때 일어난다", author: "바비 언서" },
      { text: "당신이 상상할 수 있다면, 이룰 수 있다", author: "월트 디즈니" },
      { text: "지금 시작하라. 완벽한 때는 없다", author: "익명" },
      { text: "당신의 유일한 한계는 당신 자신이다", author: "익명" },
      { text: "성공은 결코 우연이 아니다", author: "익명" },
      { text: "모든 성취는 시도하려는 의지에서 시작된다", author: "제임스 워너" },
      { text: "꿈을 꾸는 것만으로는 부족하다. 행동하라", author: "익명" },
      { text: "어려운 일을 하는 것이 쉬운 삶을 만든다", author: "레스 브라운" },
      { text: "성공의 비결은 목표에 집중하는 것이다", author: "익명" },
      { text: "당신이 원하는 것을 얻기 위해 노력하라", author: "익명" },
      { text: "오늘 최선을 다하면 내일은 더 나아진다", author: "익명" },
      { text: "성공은 준비와 노력의 결과다", author: "콜린 파월" },
      { text: "당신의 태도가 당신의 고도를 결정한다", author: "지그 지글러" },
      { text: "두려움을 극복하는 유일한 방법은 행동하는 것이다", author: "익명" },
      { text: "매일 조금씩 나아지는 것이 완벽으로 가는 길이다", author: "익명" },
      { text: "성공하는 사람과 실패하는 사람의 차이는 행동이다", author: "익명" },
      { text: "목표를 향해 한 걸음씩 나아가라", author: "익명" },
      { text: "오늘의 고통은 내일의 힘이 된다", author: "익명" },
      { text: "성공은 매일 반복되는 작은 습관의 결과다", author: "익명" },
      { text: "당신이 할 수 있는 최선을 다하라", author: "앤드류 카네기" },
      { text: "성공은 마지막까지 포기하지 않는 자의 것이다", author: "익명" },
      { text: "당신의 현재는 과거의 선택, 미래는 오늘의 선택이다", author: "익명" },
      { text: "목표를 세우고 계획을 실행하라", author: "익명" },
      { text: "성공하려면 먼저 시작해야 한다", author: "익명" },
      { text: "노력은 배신하지 않는다", author: "익명" },
      { text: "오늘 하루를 최선으로 살아라", author: "익명" },
      { text: "성공은 준비된 자에게만 온다", author: "익명" },
      { text: "당신의 꿈은 당신의 노력만큼 커진다", author: "익명" },
      { text: "포기하지 않는 한 가능성은 무한하다", author: "익명" },
      { text: "매일 성장하는 자신을 만들어라", author: "익명" },
      { text: "성공의 지름길은 없다. 꾸준함이 답이다", author: "익명" },
      { text: "당신의 노력이 당신의 미래를 만든다", author: "익명" },
      { text: "목표를 향한 여정을 즐겨라", author: "익명" },
      { text: "성공은 하루아침에 오지 않는다", author: "익명" },
      { text: "당신이 할 수 있다고 믿으면 반은 이룬 것이다", author: "시어도어 루스벨트" },
      { text: "실패를 두려워하지 말고 도전하라", author: "익명" },
      { text: "매일 조금씩 발전하는 것이 성공이다", author: "익명" },
      { text: "당신의 한계를 넘어서라", author: "익명" },
      { text: "성공은 올바른 습관에서 시작된다", author: "익명" },
      { text: "오늘 할 수 있는 일을 미루지 마라", author: "익명" },
      { text: "당신의 목표를 명확히 하라", author: "익명" },
      { text: "성공하는 사람은 끝까지 간다", author: "익명" },
      { text: "당신의 열정이 성공을 만든다", author: "익명" },
      { text: "매일 최선을 다하는 것이 성공의 시작이다", author: "익명" },
      { text: "목표를 이루기 위해 행동하라", author: "익명" },
      { text: "성공은 계획과 실행의 결과다", author: "익명" },
      { text: "당신의 노력은 헛되지 않는다", author: "익명" },
      { text: "오늘의 선택이 내일을 만든다", author: "익명" },
      { text: "성공하려면 집중하라", author: "익명" },
      { text: "당신의 가능성을 믿으라", author: "익명" },
      { text: "매일 성장하는 삶을 살아라", author: "익명" },
      { text: "목표를 향해 꾸준히 나아가라", author: "익명" },
      { text: "성공은 당신이 만드는 것이다", author: "익명" },
      { text: "당신의 미래는 오늘 시작된다", author: "익명" },
      { text: "노력하는 만큼 성장한다", author: "익명" },
      { text: "성공하려면 포기하지 마라", author: "익명" },
      { text: "당신의 꿈을 현실로 만들어라", author: "익명" },
      { text: "매일 한 걸음씩 앞으로 나아가라", author: "익명" },
      { text: "목표를 이루는 열쇠는 꾸준함이다", author: "익명" },
      { text: "성공은 당신의 선택이다", author: "익명" },
      { text: "당신의 노력이 기적을 만든다", author: "익명" },
      { text: "오늘 최선을 다하는 것이 성공이다", author: "익명" },
      { text: "성공하려면 먼저 믿어야 한다", author: "익명" },
      { text: "당신의 가능성은 무한하다", author: "익명" },
      { text: "매일 도전하는 삶을 살아라", author: "익명" },
      { text: "목표를 향한 열정을 잃지 마라", author: "익명" },
      { text: "성공은 준비된 자의 것이다", author: "익명" },
      { text: "당신의 행동이 미래를 결정한다", author: "익명" },
      { text: "노력 없이는 아무것도 이룰 수 없다", author: "익명" },
      { text: "성공하려면 계속 나아가라", author: "익명" },
      { text: "당신의 꿈을 포기하지 마라", author: "익명" },
      { text: "매일 성장하는 자신을 발견하라", author: "익명" },
      { text: "목표를 이루기 위해 최선을 다하라", author: "익명" },
      { text: "성공은 당신의 태도에 달려있다", author: "익명" },
      { text: "당신의 노력은 반드시 보상받는다", author: "익명" },
      { text: "오늘 시작하지 않으면 내일도 없다", author: "익명" },
      { text: "성공하려면 행동으로 증명하라", author: "익명" },
      { text: "당신의 미래는 당신 손에 있다", author: "익명" },
      { text: "매일 노력하는 것이 성공의 비결이다", author: "익명" },
      { text: "목표를 향해 끊임없이 도전하라", author: "익명" },
      { text: "성공은 당신이 얼마나 원하느냐에 달려있다", author: "익명" },
      { text: "당신의 열정이 길을 만든다", author: "익명" },
      { text: "노력하는 자만이 성공한다", author: "익명" },
      { text: "성공하려면 오늘 행동하라", author: "익명" },
      { text: "당신의 꿈은 당신의 것이다", author: "익명" },
      { text: "매일 최선을 다하면 기적이 일어난다", author: "익명" },
      { text: "목표를 이루는 것은 당신의 선택이다", author: "익명" },
      { text: "성공은 포기하지 않는 자의 몫이다", author: "익명" },
      { text: "당신의 노력이 당신을 변화시킨다", author: "익명" },
      { text: "오늘의 노력이 내일의 성공을 만든다", author: "익명" },
      { text: "성공하려면 꿈을 크게 가져라", author: "익명" },
      { text: "당신의 가능성을 의심하지 마라", author: "익명" },
      { text: "매일 성장하는 습관을 만들어라", author: "익명" },
      { text: "목표를 향해 한 걸음씩 전진하라", author: "익명" },
      { text: "성공은 당신의 결단에서 시작된다", author: "익명" },
      { text: "당신의 미래는 오늘 만들어진다", author: "익명" },
      { text: "노력하는 삶이 가치 있는 삶이다", author: "익명" },
      { text: "성공하려면 지금 바로 시작하라", author: "익명" },
      { text: "당신의 꿈을 실현하라", author: "익명" },
      { text: "매일 조금씩 나아가면 목표에 도달한다", author: "익명" },
      { text: "인생은 당신이 만드는 이야기다", author: "익명" },
      { text: "작은 승리가 큰 성공을 만든다", author: "익명" },
      { text: "당신의 잠재력을 깨워라", author: "익명" },
      { text: "1%의 개선이 매일 쌓이면 1년 후 37배 성장한다", author: "제임스 클리어" },
{ text: "습관이 바뀌면 인생이 바뀐다", author: "익명" },
{ text: "100일의 노력은 평생의 자산이 된다", author: "익명" },
{ text: "작은 습관이 큰 변화를 만든다", author: "익명" },
{ text: "매일 하는 것이 가끔 잘하는 것보다 낫다", author: "익명" },
{ text: "성공은 하루의 결과가 아니라 100일의 결과다", author: "익명" },
{ text: "습관을 정복하는 자가 인생을 정복한다", author: "익명" },
{ text: "오늘의 선택이 100일 후의 나를 만든다", author: "익명" },
{ text: "꾸준함이 재능을 이긴다", author: "익명" },
{ text: "매일 조금씩, 그것이 성공의 비밀이다", author: "익명" },
{ text: "100일 후 당신은 달라져 있을 것이다", author: "익명" },
{ text: "작심삼일을 33번 반복하면 100일이다", author: "익명" },
{ text: "루틴이 당신의 운명을 결정한다", author: "익명" },
{ text: "시작이 반이다. 계속하는 것이 나머지 반이다", author: "익명" },
{ text: "한 번에 하루씩, 한 번에 한 걸음씩", author: "익명" },
{ text: "변화는 결심이 아니라 반복에서 온다", author: "익명" },
{ text: "당신의 미래는 당신의 일상이 만든다", author: "익명" },
{ text: "위대함은 반복에서 나온다", author: "익명" },
{ text: "매일이 새로운 기회다", author: "익명" },
{ text: "100일은 짧지만 충분히 길다", author: "익명" },
{ text: "습관은 제2의 천성이다", author: "아리스토텔레스" },
{ text: "반복이 전문가를 만든다", author: "익명" },
{ text: "오늘 하지 않으면 내일도 하지 않는다", author: "익명" },
{ text: "작은 행동이 큰 결과를 만든다", author: "익명" },
{ text: "매일매일이 투자의 순간이다", author: "익명" },
{ text: "습관이 운명을 바꾼다", author: "익명" },
{ text: "지속성이 성공의 열쇠다", author: "익명" },
{ text: "오늘 한 것이 내일의 나를 만든다", author: "익명" },
{ text: "100일의 기적을 믿어라", author: "익명" },
{ text: "매일이 진화의 날이다", author: "익명" },
{ text: "작은 변화가 큰 혁명이 된다", author: "익명" },
{ text: "반복은 마스터의 길이다", author: "익명" },
{ text: "꾸준함이 천재성을 만든다", author: "익명" },
{ text: "오늘도 한 걸음 더 나아가라", author: "익명" },
{ text: "습관은 복리로 쌓인다", author: "익명" },
{ text: "매일의 실천이 기적을 만든다", author: "익명" },
{ text: "100일은 인생을 바꾸기에 충분하다", author: "익명" },
{ text: "작은 승리를 축하하라", author: "익명" },
{ text: "일관성이 탁월함을 만든다", author: "익명" },
{ text: "오늘 시작하지 않으면 절대 끝낼 수 없다", author: "익명" },
{ text: "매일이 새로운 시작이다", author: "익명" },
{ text: "100일의 여정은 첫 걸음에서 시작된다", author: "익명" },
{ text: "반복이 완벽을 만든다", author: "익명" },
{ text: "당신의 루틴이 당신의 미래다", author: "익명" },
{ text: "작은 실천이 큰 자신감을 만든다", author: "익명" },
{ text: "매일 조금씩 더 나은 사람이 되라", author: "익명" },
{ text: "습관은 인생의 건축 자재다", author: "익명" },
{ text: "100일 후엔 다른 사람이 되어 있을 것이다", author: "익명" },
{ text: "꾸준함은 기적을 낳는다", author: "익명" },
{ text: "오늘의 선택이 내일의 습관이 된다", author: "익명" },
{ text: "작은 행동, 큰 변화", author: "익명" },
{ text: "매일이 기회의 날이다", author: "익명" },
{ text: "반복이 당신을 정의한다", author: "익명" },
{ text: "100일은 평생 습관의 시작이다", author: "익명" },
{ text: "일상이 운명을 만든다", author: "익명" },
{ text: "작은 진전도 진전이다", author: "익명" },
{ text: "매일 체크하는 것이 성공의 비결이다", author: "익명" },
{ text: "습관을 바꾸면 인생이 바뀐다", author: "익명" },
{ text: "오늘도 목표를 향해 전진하라", author: "익명" },
{ text: "100일의 도전이 평생의 자산이 된다", author: "익명" },
{ text: "꾸준함이 모든 것을 이긴다", author: "익명" },
{ text: "작은 목표를 달성하며 큰 꿈을 이뤄라", author: "익명" },
{ text: "매일이 성장의 날이다", author: "익명" },
{ text: "반복은 숙달의 어머니다", author: "익명" },
{ text: "100일의 여정을 즐겨라", author: "익명" },
{ text: "습관이 성공을 결정한다", author: "익명" },
{ text: "오늘 한 것이 내일의 결과가 된다", author: "익명" },
{ text: "작은 승리가 큰 동기가 된다", author: "익명" },
{ text: "매일매일이 소중한 기회다", author: "익명" },
{ text: "꾸준함은 가장 강력한 무기다", author: "익명" },
{ text: "100일은 새로운 나를 만드는 시간이다", author: "익명" },
{ text: "반복이 차이를 만든다", author: "익명" },
{ text: "오늘도 한 번 더 도전하라", author: "익명" },
{ text: "습관은 자동화된 성공이다", author: "익명" },
{ text: "작은 실천이 큰 결실을 맺는다", author: "익명" },
{ text: "매일이 변화의 기회다", author: "익명" },
{ text: "100일의 기적을 경험하라", author: "익명" },
{ text: "꾸준함이 천재를 만든다", author: "익명" },
{ text: "오늘의 습관이 내일의 나를 만든다", author: "익명" },
{ text: "작은 행동이 큰 변화를 만든다", author: "익명" },
{ text: "매일 조금씩 더 강해져라", author: "익명" },
{ text: "반복이 전문성을 만든다", author: "익명" },
{ text: "100일 후에는 지금과 다른 사람이다", author: "익명" },
{ text: "습관은 미래를 예측하는 가장 좋은 방법이다", author: "익명" },
{ text: "오늘도 최선을 다하라", author: "익명" },
{ text: "작은 목표, 큰 성과", author: "익명" },
{ text: "매일이 새로운 도전이다", author: "익명" },
{ text: "꾸준함은 성공의 필수 조건이다", author: "익명" },
{ text: "100일은 습관을 만들기에 완벽한 시간이다", author: "익명" },
{ text: "반복이 숙련을 만든다", author: "익명" },
{ text: "오늘 하나라도 실천하라", author: "익명" },
{ text: "습관이 당신의 정체성을 만든다", author: "익명" },
{ text: "작은 변화가 인생을 바꾼다", author: "익명" },
{ text: "매일이 성장의 기회다", author: "익명" },
{ text: "100일의 투자가 평생의 수익이 된다", author: "익명" },
{ text: "꾸준함이 결과를 만든다", author: "익명" },
{ text: "오늘의 실천이 내일의 성공이다", author: "익명" },
{ text: "작은 습관이 큰 차이를 만든다", author: "익명" },
{ text: "매일 한 걸음씩 전진하라", author: "익명" },
{ text: "반복이 마법을 만든다", author: "익명" },
{ text: "100일은 새로운 삶의 시작이다", author: "익명" },
{ text: "습관은 성공의 자동화 시스템이다", author: "익명" },
{ text: "오늘도 포기하지 마라", author: "익명" },
{ text: "작은 노력이 큰 성과를 낳는다", author: "익명" },
{ text: "매일이 변화의 날이다", author: "익명" },
{ text: "꾸준함은 최고의 전략이다", author: "익명" },
{ text: "100일 후의 나를 기대하라", author: "익명" },
{ text: "반복이 탁월함을 만든다", author: "익명" },
{ text: "오늘 한 것이 미래를 만든다", author: "익명" },
{ text: "습관이 운명의 설계도다", author: "익명" },
{ text: "작은 시작이 큰 결과를 만든다", author: "익명" },
{ text: "매일이 기적의 시작이다", author: "익명" },
{ text: "100일의 챌린지가 인생을 바꾼다", author: "익명" },
{ text: "꾸준함은 성공의 보증수표다", author: "익명" },
{ text: "오늘도 나아가라", author: "익명" },
{ text: "작은 실천이 큰 습관이 된다", author: "익명" },
{ text: "매일 조금씩 개선하라", author: "익명" },
{ text: "반복이 당신을 만든다", author: "익명" },
{ text: "100일은 변화를 위한 완벽한 기간이다", author: "익명" },
{ text: "습관은 미래의 나에 대한 투자다", author: "익명" },
{ text: "오늘의 선택이 100일 후를 결정한다", author: "익명" },
{ text: "작은 승리를 쌓아가라", author: "익명" },
{ text: "매일이 성공의 씨앗을 심는 날이다", author: "익명" },
{ text: "꾸준함이 비범함을 만든다", author: "익명" },
{ text: "100일의 여정이 평생의 습관이 된다", author: "익명" },
{ text: "반복이 변화의 핵심이다", author: "익명" },
{ text: "오늘도 체크하라", author: "익명" },
{ text: "습관은 성공으로 가는 지름길이다", author: "익명" },
{ text: "작은 행동이 큰 미래를 만든다", author: "익명" },
{ text: "매일이 도약의 기회다", author: "익명" },
{ text: "100일은 인생의 전환점이 될 수 있다", author: "익명" },
{ text: "꾸준함은 최고의 재능이다", author: "익명" },
{ text: "오늘 실천하지 않으면 내일도 없다", author: "익명" },
{ text: "작은 목표를 매일 달성하라", author: "익명" },
{ text: "매일이 변화의 순간이다", author: "익명" },
{ text: "반복이 성공의 언어다", author: "익명" },
{ text: "100일 후 당신은 자랑스러울 것이다", author: "익명" },
{ text: "습관이 미래의 당신을 만든다", author: "익명" },
{ text: "오늘도 한 번 더", author: "익명" },
{ text: "작은 진전이 큰 성공이 된다", author: "익명" },
{ text: "매일이 진화의 기회다", author: "익명" },
{ text: "꾸준함은 모든 성공의 기초다", author: "익명" },
{ text: "100일은 습관 형성의 황금기간이다", author: "익명" },
{ text: "반복이 실력을 만든다", author: "익명" },
{ text: "오늘의 체크가 내일의 자신감이 된다", author: "익명" },
{ text: "습관은 성공의 자동항법장치다", author: "익명" },
{ text: "작은 변화를 축하하라", author: "익명" }
    ];

    function showRandomQuote() {
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById('quote-text').innerText = `"${quote.text}"`;
      document.getElementById('quote-author').innerText = `- ${quote.author}`;
    }
    showRandomQuote();

    firebase.initializeApp({
      apiKey: "AIzaSyBDGRyuJrcE1BSMY080yIHV1WJwUUGI_rs",
      authDomain: "miracle100-bfaf1.firebaseapp.com",
      projectId: "miracle100-bfaf1",
      storageBucket: "miracle100-bfaf1.firebasestorage.app",
      messagingSenderId: "367375464724",
      appId: "1:367375464724:web:6fccf8438a9a070f3aea01"
    });

    const auth = firebase.auth();
    const db = firebase.firestore();
    let isGuestMode = false;
    const STORAGE_KEY = 'challenge100_guest_data';

    function startAsGuest() {
      isGuestMode = true;
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('main-screen').style.display = 'block';
      document.getElementById('backup-banner').style.display = 'flex';
      document.getElementById('welcome-msg').innerHTML = '나의 100일 챌린지 현황';
      loadGuestChallenges();
    }

    async function loginWithGoogle() {
      const provider = new firebase.auth.GoogleAuthProvider();
      try {
        const result = await auth.signInWithPopup(provider);
        const guestData = localStorage.getItem(STORAGE_KEY);
        if (guestData && guestData !== '[]') {
          await migrateGuestDataToFirebase(result.user.uid);
        }
        await loadChallenges(result.user.uid);
        document.getElementById('backup-banner').style.display = 'none';
        document.getElementById('welcome-msg').innerHTML = `${result.user.displayName}님의<br>100일 챌린지 현황`;
        isGuestMode = false;
      } catch (error) {
        console.error("로그인 에러:", error);
        if (isInAppBrowser()) {
          document.getElementById('threads-banner-login').style.display = 'block';
        }
        alert("로그인이 필요합니다. 카카오톡/스레드 이용 시 우측 상단 메뉴에서 '브라우저로 열기'를 먼저 해주세요!");
      }
    }

    function isInAppBrowser() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      return (ua.indexOf('FBAN') > -1) || (ua.indexOf('FBAV') > -1) || 
             (ua.indexOf('Instagram') > -1) || (ua.indexOf('KAKAOTALK') > -1);
    }

    async function migrateGuestDataToFirebase(uid) {
      const guestData = localStorage.getItem(STORAGE_KEY);
      if (!guestData) return;
      const challenges = JSON.parse(guestData);
      const batch = db.batch();
      for (const challenge of challenges) {
        const docRef = db.collection('challenges').doc();
        batch.set(docRef, {
          uid: uid,
          title: challenge.title,
          completedDays: challenge.completedDays,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });
      }
      await batch.commit();
      localStorage.removeItem(STORAGE_KEY);
      alert('✅ 기존 데이터가 안전하게 백업되었습니다!');
    }

    async function shareApp() {
      const shareData = {
        title: '100일 챌린지 - 습관 만들기 앱',
        text: '매일 체크하면서 목표를 달성하는 100일 챌린지! 함께 도전해요 🔥',
        url: window.location.href
      };
      try {
        if (navigator.share) {
          await navigator.share(shareData);
        } else {
          await navigator.clipboard.writeText(window.location.href);
          alert('링크 복사 완료!');
        }
      } catch (err) {
        if (err.name === 'AbortError') {
          console.log('공유 취소됨');
          return;
        }
        try {
          await navigator.clipboard.writeText(window.location.href);
          alert('링크 복사 완료!');
        } catch (clipboardErr) {
          console.error('복사 실패:', clipboardErr);
        }
      }
    }

    auth.onAuthStateChanged(user => {});

    async function loadChallenges(uid) {
      const snapshot = await db.collection('challenges').where('uid', '==', uid).get();
      const listDiv = document.getElementById('challenge-list');
      const summaryList = document.getElementById('summary-list');
      listDiv.innerHTML = '';
      summaryList.innerHTML = '';
      if (snapshot.empty) {
        summaryList.innerHTML = '<p style="color:#ccc;">💡 챌린지를 추가하고 첫걸음을 떼보세요!</p>';
        return;
      }
      snapshot.forEach(doc => {
        const data = doc.data();
        const completedDays = data.completedDays || [];
        const progress = Math.round((completedDays.length / 100) * 100);
        summaryList.innerHTML += `
          <div class="summary-item">
            <div class="summary-info"><span>🔥 ${data.title}</span><span>${progress}%</span></div>
            <div class="summary-bar-bg"><div class="summary-bar-fill" style="width:${progress}%"></div></div>
          </div>
        `;
        const card = document.createElement('div');
        card.className = 'project-card';
        card.innerHTML = `
          <div class="grid-header">
            <h3>${data.title}</h3>
            <button class="del-btn" onclick="deleteChallenge('${doc.id}')">삭제</button>
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width:${progress}%"></div></div>
          <div class="grid-container" id="grid-${doc.id}"></div>
        `;
        listDiv.appendChild(card);
        const grid = document.getElementById(`grid-${doc.id}`);
        for (let i = 1; i <= 100; i++) {
          const cell = document.createElement('div');
          cell.className = `day-cell ${completedDays.includes(i) ? 'done' : ''}`;
          cell.innerText = i;
          cell.onclick = () => toggleDay(doc.id, i, completedDays);
          grid.appendChild(cell);
        }
      });
    }

    function loadGuestChallenges() {
      const guestData = localStorage.getItem(STORAGE_KEY);
      const challenges = guestData ? JSON.parse(guestData) : [];
      const listDiv = document.getElementById('challenge-list');
      const summaryList = document.getElementById('summary-list');
      listDiv.innerHTML = '';
      summaryList.innerHTML = '';
      if (challenges.length === 0) {
        summaryList.innerHTML = '<p style="color:#ccc;">💡 챌린지를 추가하고 첫걸음을 떼보세요!</p>';
        return;
      }
      challenges.forEach((data, index) => {
        const completedDays = data.completedDays || [];
        const progress = Math.round((completedDays.length / 100) * 100);
        summaryList.innerHTML += `
          <div class="summary-item">
            <div class="summary-info"><span>🔥 ${data.title}</span><span>${progress}%</span></div>
            <div class="summary-bar-bg"><div class="summary-bar-fill" style="width:${progress}%"></div></div>
          </div>
        `;
        const card = document.createElement('div');
        card.className = 'project-card';
        card.innerHTML = `
          <div class="grid-header">
            <h3>${data.title}</h3>
            <button class="del-btn" onclick="deleteGuestChallenge(${index})">삭제</button>
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width:${progress}%"></div></div>
          <div class="grid-container" id="grid-guest-${index}"></div>
        `;
        listDiv.appendChild(card);
        const grid = document.getElementById(`grid-guest-${index}`);
        for (let i = 1; i <= 100; i++) {
          const cell = document.createElement('div');
          cell.className = `day-cell ${completedDays.includes(i) ? 'done' : ''}`;
          cell.innerText = i;
          cell.onclick = () => toggleGuestDay(index, i, completedDays);
          grid.appendChild(cell);
        }
      });
    }

    async function createNewChallenge() {
      const title = prompt("달성하고 싶은 목표는 무엇인가요?");
      if (!title) return;
      if (isGuestMode) {
        const guestData = localStorage.getItem(STORAGE_KEY);
        const challenges = guestData ? JSON.parse(guestData) : [];
        challenges.push({ title, completedDays: [] });
        localStorage.setItem(STORAGE_KEY, JSON.stringify(challenges));
        loadGuestChallenges();
      } else {
        const user = auth.currentUser;
        if (user) {
          await db.collection('challenges').add({
            uid: user.uid,
            title,
            completedDays: [],
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });
          loadChallenges(user.uid);
        }
      }
    }

    async function toggleDay(docId, day, completedDays) {
      const newDays = completedDays.includes(day)
        ? completedDays.filter(d => d !== day)
        : [...completedDays, day];
      await db.collection('challenges').doc(docId).update({ completedDays: newDays });
      loadChallenges(auth.currentUser.uid);
    }

    function toggleGuestDay(index, day, completedDays) {
      const guestData = localStorage.getItem(STORAGE_KEY);
      const challenges = JSON.parse(guestData);
      const newDays = completedDays.includes(day)
        ? completedDays.filter(d => d !== day)
        : [...completedDays, day];
      challenges[index].completedDays = newDays;
      localStorage.setItem(STORAGE_KEY, JSON.stringify(challenges));
      loadGuestChallenges();
    }

    async function deleteChallenge(docId) {
      if (confirm("삭제된 데이터는 복구할 수 없습니다. 정말 삭제할까요?")) {
        await db.collection('challenges').doc(docId).delete();
        loadChallenges(auth.currentUser.uid);
      }
    }

    function deleteGuestChallenge(index) {
      if (confirm("삭제된 데이터는 복구할 수 없습니다. 정말 삭제할까요?")) {
        const guestData = localStorage.getItem(STORAGE_KEY);
        const challenges = JSON.parse(guestData);
        challenges.splice(index, 1);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(challenges));
        loadGuestChallenges();
      }
    }

    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('install-banner').style.display = 'block';
    });

    function installPWA() {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(() => {
          deferredPrompt = null;
          document.getElementById('install-banner').style.display = 'none';
        });
      }
    }
  </script>
</body>
</html>
