<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <title>100ì¼ ì±Œë¦°ì§€ - ìŠµê´€ ë§Œë“¤ê¸° ì•±</title>
  <meta name="description" content="ë§¤ì¼ ì²´í¬í•˜ë©´ì„œ ìŠµê´€ì„ ë§Œë“œëŠ” 100ì¼ ì±Œë¦°ì§€. ìš´ë™, ë‹¤ì´ì–´íŠ¸, ë…ì„œ, ì˜ì–´ê³µë¶€ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”">
  <meta name="keywords" content="100ì¼ ì±Œë¦°ì§€, ìŠµê´€ ë§Œë“¤ê¸°, ë‹¤ì´ì–´íŠ¸, ìš´ë™, ì˜ì–´, ë…ì„œ">
  
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#4285F4">
  <link rel="apple-touch-icon" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
  
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7617624533409809"
       crossorigin="anonymous"></script>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif; background: #f5f5f5; }
    
    .app { max-width: 1000px; margin: 0 auto; padding: 10px; }
    
    .entry-screen { text-align: center; padding: 80px 20px 40px; background: #fff; border-radius: 20px; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    .entry-screen h1 { font-size: 2.2rem; margin-bottom: 15px; color: #1a1a1b; font-weight: 700; }
    .entry-screen .subtitle { font-size: 1.2rem; color: #555; margin-bottom: 25px; line-height: 1.5; }
    .btn-main { background: #4285F4; color: white; border: none; padding: 16px 35px; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 1.2rem; box-shadow: 0 4px 15px rgba(66,133,244,0.3); transition: 0.2s; }
    .btn-main:hover { background: #3367d6; transform: translateY(-2px); }
    
    .install-banner { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 20px; text-align: center; border-radius: 10px; margin: 20px auto; display: none; }
    .install-banner button { background: white; color: #667eea; border: none; padding: 10px 20px; border-radius: 5px; font-weight: bold; cursor: pointer; margin-top: 10px; }
    
    .quote-container { margin: 30px auto; padding: 35px 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; box-shadow: 0 10px 30px rgba(102,126,234,0.3); text-align: center; max-width: 800px; }
    .quote-text { color: white; font-size: 1.3rem; line-height: 1.7; font-weight: 600; margin-bottom: 15px; font-style: italic; }
    .quote-author { color: rgba(255,255,255,0.85); font-size: 1rem; }
    
    .summary-board { background: #1a1a1b; color: white; border-radius: 20px; padding: 30px; margin-bottom: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); }
    .summary-board h2 { color: #ff7a18; font-size: 1.6rem; border-bottom: 1px solid #333; padding-bottom: 15px; margin-bottom: 25px; border-left: 5px solid #ff7a18; padding-left: 15px; }
    .summary-item { margin-bottom: 22px; }
    .summary-info { display: flex; justify-content: space-between; margin-bottom: 8px; font-weight: 600; }
    .summary-bar-bg { background: rgba(255,255,255,0.1); height: 12px; border-radius: 6px; overflow: hidden; }
    .summary-bar-fill { background: linear-gradient(90deg, #ff7a18 0%, #af002d 100%); height: 100%; transition: width 1.2s; }
    
    .list-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
    .list-title { font-size: 1.4rem; border-left: 5px solid #ff7a18; padding-left: 15px; }
    .btn-add { background: #ff7a18; color: white; border: none; padding: 10px 18px; border-radius: 8px; cursor: pointer; font-weight: bold; }
    
    .project-card { background: #fff; border: 1px solid #eee; border-radius: 15px; padding: 25px; margin-bottom: 35px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .grid-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .grid-header h3 { font-size: 1.2rem; color: #1a1a1b; }
    .del-btn { background: #fff0f0; border: 1px solid #ffcccc; color: #ff4444; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 11px; font-weight: 600; }
    
    .grid-container { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin: 20px 0; }
    .day-cell { aspect-ratio: 1/1; background: #f0f0f0; border-radius: 6px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 10px; color: #777; transition: 0.2s; }
    .day-cell.done { background: #4CAF50; color: white; font-weight: bold; transform: scale(1.05); }
    .day-cell:hover { transform: scale(1.1); }
    
    .progress-bg { background: #eee; height: 8px; border-radius: 4px; margin: 10px 0; }
    .progress-fill { background: #1A73E8; height: 100%; transition: width 0.3s; }
    
    .footer { background: #fff; border: 1px solid #eee; border-radius: 20px; padding: 35px; margin-top: 40px; line-height: 1.8; }
    .footer h2 { color: #1a1a1b; font-size: 1.5rem; text-align: center; border-bottom: 2px solid #ff7a18; padding-bottom: 15px; margin-bottom: 20px; }
    .footer h3 { color: #ff7a18; margin-top: 25px; font-size: 1.2rem; border-left: 4px solid #ff7a18; padding-left: 12px; }
    .footer p { color: #555; margin-bottom: 15px; }
    .footer ul { margin-left: 20px; line-height: 1.9; }
    .footer li { margin-bottom: 10px; color: #555; }
    .highlight-box { background: #fff8f0; border-left: 4px solid #ff7a18; padding: 18px; margin: 20px 0; border-radius: 8px; }
    
    @media (max-width: 600px) {
      .entry-screen { padding: 50px 15px 30px; }
      .entry-screen h1 { font-size: 1.8rem; }
      .quote-container { padding: 25px 20px; }
      .project-card { padding: 15px; }
      .grid-container { gap: 4px; }
      .day-cell { font-size: 9px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <div id="install-banner" class="install-banner">
      <div>ğŸ“± í™ˆ í™”ë©´ì— ì¶”ê°€í•˜ì—¬ ì•±ì²˜ëŸ¼ ì‚¬ìš©í•˜ì„¸ìš”!</div>
      <button onclick="installPWA()">í™ˆ í™”ë©´ì— ì¶”ê°€</button>
    </div>

    <div id="login-screen" class="entry-screen">
      <h1>ğŸ”¥ 100ì¼ ì±Œë¦°ì§€</h1>
      <p class="subtitle">ë§¤ì¼ ì²´í¬í•˜ê³  ëª©í‘œ ë‹¬ì„±!</p>
      <button class="btn-main" onclick="enterApp()">ì±Œë¦°ì§€ ì‹œì‘í•˜ê¸°</button>
      
      <div class="quote-container">
        <div class="quote-text" id="quote-text"></div>
        <div class="quote-author" id="quote-author"></div>
      </div>
    </div>

    <div id="main-screen" style="display:none;">
      
      <!-- ê´‘ê³  ì˜ì—­ (ì±Œë¦°ì§€ í˜„í™© ìµœìƒë‹¨) -->
      <div style="margin: 20px auto; max-width: 800px; text-align: center;">
        <!-- 100ì¼ì±Œë¦°ì§€ì•± ìˆ˜í‰í˜• -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7617624533409809"
             data-ad-slot="2934193554"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
      
      <div class="summary-board">
        <h2 id="welcome-msg">ë‚˜ì˜ 100ì¼ ì±Œë¦°ì§€ í˜„í™©</h2>
        <div id="summary-list"></div>
      </div>

      <div class="list-header">
        <h2 class="list-title">ë‚˜ì˜ ì±Œë¦°ì§€</h2>
        <button class="btn-add" onclick="createNewChallenge()">+ ì±Œë¦°ì§€ ì¶”ê°€</button>
      </div>
      
      <div id="challenge-list"></div>
      
      <!-- ì˜¤ëŠ˜ì˜ ëª…ì–¸ (ë§¨ í•˜ë‹¨) -->
      <div class="quote-container" style="margin-top: 40px;">
        <h3 style="color: white; font-size: 1.2rem; margin-bottom: 15px;">ğŸ’« ì˜¤ëŠ˜ì˜ ëª…ì–¸</h3>
        <div class="quote-text" id="bottom-quote-text"></div>
        <div class="quote-author" id="bottom-quote-author"></div>
      </div>
    </div>

    <div class="footer">
      <h2>100ì¼ ì±Œë¦°ì§€ë€?</h2>
      
      <div class="highlight-box">
        <p><strong>ë§¤ì¼ ì²´í¬í•˜ë©´ ìŠµê´€ì´ ë©ë‹ˆë‹¤</strong></p>
        <p>ì‹¬ë¦¬í•™ ì—°êµ¬ì— ë”°ë¥´ë©´ ìƒˆë¡œìš´ ìŠµê´€ì„ ë§Œë“¤ë ¤ë©´ í‰ê·  <strong>66ì¼ì—ì„œ 100ì¼</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤. ë§¤ì¼ ì‹¤ì²œí•˜ê³  ì²´í¬í•˜ëŠ” ê²ƒì´ ì„±ê³µì˜ í•µì‹¬ì…ë‹ˆë‹¤.</p>
      </div>

      <h3>âœ… ì´ëŸ° ëª©í‘œë¥¼ ë‹¬ì„±í•˜ì„¸ìš”</h3>
      <ul>
        <li><strong>ìš´ë™:</strong> ë§¤ì¼ 30ë¶„ ìš´ë™í•˜ê¸°, í—¬ìŠ¤ì¥ ê°€ê¸°</li>
        <li><strong>ë‹¤ì´ì–´íŠ¸:</strong> ë¬¼ 2L ë§ˆì‹œê¸°, ê°„ì‹ ì•ˆ ë¨¹ê¸°</li>
        <li><strong>ë…ì„œ:</strong> í•˜ë£¨ 30í˜ì´ì§€ ì½ê¸°</li>
        <li><strong>ì˜ì–´:</strong> ë§¤ì¼ ì˜ë‹¨ì–´ 20ê°œ ì™¸ìš°ê¸°</li>
        <li><strong>ì €ì¶•:</strong> í•˜ë£¨ 5ì²œì› ëª¨ìœ¼ê¸°, ê°€ê³„ë¶€ ì“°ê¸°</li>
      </ul>

      <h3>ğŸ“± ê°„ë‹¨í•œ ì‚¬ìš© ë°©ë²•</h3>
      <ul>
        <li><strong>1ë‹¨ê³„:</strong> "ì±Œë¦°ì§€ ì¶”ê°€" ë²„íŠ¼ìœ¼ë¡œ ëª©í‘œ ì…ë ¥</li>
        <li><strong>2ë‹¨ê³„:</strong> ë‹¬ì„±í•œ ë‚ ì˜ ìˆ«ì í´ë¦­ (ì´ˆë¡ìƒ‰ ì²´í¬)</li>
        <li><strong>3ë‹¨ê³„:</strong> ì§„í–‰ë¥  í™•ì¸í•˜ë©´ì„œ 100ì¼ ì™„ì£¼!</li>
      </ul>

      <div class="highlight-box">
        <p><strong>ğŸ”¥ ì„±ê³µ ë¹„ê²°: 28ì¼ â†’ 66ì¼ â†’ 100ì¼</strong></p>
        <p>ì²˜ìŒ 28ì¼ì„ ì™„ì£¼í•˜ë©´ ìŠµê´€ì˜ ê¸°ì´ˆê°€ ë§Œë“¤ì–´ì§€ê³ , 66ì¼ì´ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ëª¸ì´ ì›€ì§ì´ê²Œ ë©ë‹ˆë‹¤. 100ì¼ì„ ì±„ìš°ë©´ ì™„ì „íˆ ë‚´ ê²ƒì´ ë©ë‹ˆë‹¤!</p>
      </div>

      <p style="margin-top: 25px; text-align: center; color: #ff7a18; font-weight: bold; font-size: 1.1rem;">
        ì˜¤ëŠ˜ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ 100ì¼ ë’¤ì—ë„ ë˜‘ê°™ìŠµë‹ˆë‹¤!<br>ì§€ê¸ˆ ë°”ë¡œ ì²« ë²ˆì§¸ ì±Œë¦°ì§€ë¥¼ ì‹œì‘í•˜ì„¸ìš” ğŸš€
      </p>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script>
    const quotes = [
      { text: "ì„±ê³µì€ ë§¤ì¼ì˜ ì‘ì€ ë…¸ë ¥ì´ ëª¨ì—¬ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤", author: "ë¡œë²„íŠ¸ ì½œë¦¬ì–´" },
      { text: "ì˜¤ëŠ˜ í•  ìˆ˜ ìˆëŠ” ì¼ì„ ë‚´ì¼ë¡œ ë¯¸ë£¨ì§€ ë§ˆë¼", author: "ë²¤ìë¯¼ í”„ë­í´ë¦°" },
      { text: "ìœ„ëŒ€í•œ ì„±ì·¨ëŠ” ì‘ì€ ì‹œì‘ì—ì„œ ë¹„ë¡¯ë©ë‹ˆë‹¤", author: "ê³µì" },
      { text: "ê¿ˆì„ ì´ë£¨ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ê¹¨ì–´ë‚˜ì•¼ í•œë‹¤", author: "ì¡°ì—˜ ë¸Œë¼ìš´" },
      { text: "ì„±ê³µì˜ ë¹„ê²°ì€ ì‹œì‘í•˜ëŠ” ê²ƒì´ë‹¤", author: "ë§ˆí¬ íŠ¸ì›¨ì¸" },
      { text: "ë‹¹ì‹ ì´ í•  ìˆ˜ ìˆë‹¤ê³  ë¯¿ë“ , í•  ìˆ˜ ì—†ë‹¤ê³  ë¯¿ë“ , ë‹¹ì‹ ì´ ì˜³ë‹¤", author: "í—¨ë¦¬ í¬ë“œ" },
      { text: "ë…¸ë ¥ ì—†ì´ ì–»ëŠ” ê²ƒì€ ì•„ë¬´ê²ƒë„ ì—†ë‹¤", author: "í† ë§ˆìŠ¤ ì—ë””ìŠ¨" },
      { text: "ì‹¤íŒ¨ëŠ” ì„±ê³µì˜ ì–´ë¨¸ë‹ˆë‹¤", author: "í† ë§ˆìŠ¤ ì—ë””ìŠ¨" },
      { text: "ì²œ ë¦¬ ê¸¸ë„ í•œ ê±¸ìŒë¶€í„°", author: "ë…¸ì" },
      { text: "ì‘ì€ ê¸°íšŒë¡œë¶€í„° ìœ„ëŒ€í•œ ì—…ì ì´ ì‹œì‘ëœë‹¤", author: "ë°ëª¨ìŠ¤í…Œë„¤ìŠ¤" },
      { text: "ì˜¤ëŠ˜ì˜ ë‚˜ëŠ” ì–´ì œì˜ ì„ íƒì´ ë§Œë“  ê²°ê³¼ë‹¤", author: "ìµëª…" },
      { text: "ê¾¸ì¤€í•¨ì€ ì²œì¬ë¥¼ ì´ê¸´ë‹¤", author: "ìµëª…" },
      { text: "í¬ê¸°í•˜ì§€ ì•Šìœ¼ë©´ ì‹¤íŒ¨í•˜ì§€ ì•ŠëŠ”ë‹¤", author: "ì­ ë§ˆ" },
      { text: "ì„±ê³µì€ ìŠµê´€ì˜ ê²°ê³¼ë‹¤", author: "ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤" },
      { text: "ì˜¤ëŠ˜ì´ ë‚¨ì€ ì¸ìƒì˜ ì²«ë‚ ì´ë‹¤", author: "ìµëª…" },
      { text: "í–‰ë™ì´ ëª¨ë“  ì„±ê³µì˜ ê¸°ì´ˆë‹¤", author: "íŒŒë¸”ë¡œ í”¼ì¹´ì†Œ" },
      { text: "ì¤€ë¹„ëœ ìì—ê²Œ ê¸°íšŒëŠ” ì˜¨ë‹¤", author: "ë£¨ì´ íŒŒìŠ¤í‡´ë¥´" },
      { text: "ë¯¸ë˜ëŠ” í˜„ì¬ ìš°ë¦¬ê°€ ë¬´ì—‡ì„ í•˜ëŠ”ê°€ì— ë‹¬ë ¤ìˆë‹¤", author: "ë§ˆí•˜íŠ¸ë§ˆ ê°„ë””" },
      { text: "ëª©í‘œê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ ì´ë£° ìˆ˜ ì—†ë‹¤", author: "ì§€ê·¸ ì§€ê¸€ëŸ¬" },
      { text: "ë³€í™”ëŠ” ì„ íƒì´ë‹¤. ì„±ì¥ì€ ê²°ê³¼ë‹¤", author: "ìµëª…" },
      { text: "í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ë©´ í•  ìˆ˜ ìˆë‹¤", author: "ë²„ì§ˆ" },
      { text: "ì„±ê³µì˜ ì—´ì‡ ëŠ” ì‹œì‘í•˜ëŠ” ìš©ê¸°ë‹¤", author: "ì¡´ ë² ë¦°ì €" },
      { text: "ë©ˆì¶”ì§€ ì•ŠëŠ” í•œ ì–¼ë§ˆë‚˜ ì²œì²œíˆ ê°€ë„ ìƒê´€ì—†ë‹¤", author: "ê³µì" },
      { text: "ë‹¹ì‹ ì˜ í•œê³„ëŠ” ë‹¹ì‹ ì˜ ìƒìƒë ¥ë¿ì´ë‹¤", author: "ìµëª…" },
      { text: "ì‘ì€ ì§„ë³´ë¼ë„ ì§„ë³´ëŠ” ì§„ë³´ë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥í•˜ëŠ” ìëŠ” ê¿ˆì„ ë§í•˜ê³ , ë…¸ë ¥í•˜ì§€ ì•ŠëŠ” ìëŠ” ë¶ˆë§Œì„ ë§í•œë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ ì‹¬ì€ ì”¨ì•—ì´ ë‚´ì¼ì˜ ì—´ë§¤ê°€ ëœë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë§ˆìŒë¨¹ê¸°ì— ë‹¬ë ¤ìˆë‹¤", author: "ë‚˜í´ë ˆì˜¹ í" },
      { text: "ë‹¹ì‹ ì´ ë°”ê¾¸ê³  ì‹¶ì€ ë³€í™”ê°€ ë˜ì–´ë¼", author: "ë§ˆí•˜íŠ¸ë§ˆ ê°„ë””" },
      { text: "ì„±ê³µì€ ì—´ì •ì„ ìƒì§€ ì•Šê³  ì‹¤íŒ¨ì—ì„œ ì‹¤íŒ¨ë¡œ ê±¸ì–´ê°€ëŠ” ê²ƒì´ë‹¤", author: "ìœˆìŠ¤í„´ ì²˜ì¹ " },
      { text: "í–‰ìš´ì€ ì¤€ë¹„ì™€ ê¸°íšŒê°€ ë§Œë‚¬ì„ ë•Œ ì¼ì–´ë‚œë‹¤", author: "ì„¸ë„¤ì¹´" },
      { text: "ê°€ì¥ ì–´ë‘ìš´ ë°¤ì´ ì§€ë‚˜ë©´ ê°€ì¥ ë°ì€ ì•„ì¹¨ì´ ì˜¨ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì´ë£¨ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ í–‰ë™í•˜ëŠ” ê²ƒì´ë‹¤", author: "ì›”íŠ¸ ë””ì¦ˆë‹ˆ" },
      { text: "ë‹¹ì‹ ì´ ìƒê°í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ì„ ë§Œë“ ë‹¤", author: "ë¶“ë‹¤" },
      { text: "ë¶ˆê°€ëŠ¥ì€ ì—†ë‹¤. ë‹¨ì–´ ìì²´ê°€ ë‚˜ëŠ” ê°€ëŠ¥í•˜ë‹¤ê³  ë§í•˜ê³  ìˆë‹¤", author: "ì˜¤ë“œë¦¬ í—µë²ˆ" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ë¨¼ì € ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ì•„ì•¼ í•œë‹¤", author: "ë§ˆì´í´ ì¡°ë˜" },
      { text: "ìµœê³ ê°€ ë˜ë ¤ë©´ ìµœì„ ì„ ë‹¤í•´ì•¼ í•œë‹¤", author: "ë¹ˆìŠ¤ ë¡¬ë°”ë¥´ë””" },
      { text: "ì§€ê¸ˆ ì´ ìˆœê°„ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤", author: "ìµëª…" },
      { text: "ìœ„ëŒ€í•¨ì€ ê²°ì½” ì£¼ì–´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìŸì·¨í•˜ëŠ” ê²ƒì´ë‹¤", author: "ë“œì›¨ì¸ ì¡´ìŠ¨" },
      { text: "ë‹¹ì‹ ì˜ ì‹œê°„ì€ ì œí•œë˜ì–´ ìˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒì˜ ì‚¶ì„ ì‚´ì§€ ë§ˆë¼", author: "ìŠ¤í‹°ë¸Œ ì¡ìŠ¤" },
      { text: "ì„±ê³µì˜ 90%ëŠ” ê·¸ëƒ¥ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ë‹¤", author: "ìš°ë”” ì•¨ëŸ°" },
      { text: "ì‹¤íŒ¨í•œ ì ì´ ì—†ëŠ” ì‚¬ëŒì€ ìƒˆë¡œìš´ ê²ƒì„ ì‹œë„í•œ ì ì´ ì—†ëŠ” ì‚¬ëŒì´ë‹¤", author: "ì•Œë²„íŠ¸ ì•„ì¸ìŠˆíƒ€ì¸" },
      { text: "ì¸ë‚´ì™€ ëˆê¸°ëŠ” ë¬´ì ì´ë‹¤", author: "ìµëª…" },
      { text: "ì–´ì œë¡œë¶€í„° ë°°ìš°ê³ , ì˜¤ëŠ˜ì„ ì‚´ê³ , ë‚´ì¼ì„ í¬ë§í•˜ë¼", author: "ì•Œë²„íŠ¸ ì•„ì¸ìŠˆíƒ€ì¸" },
      { text: "ê¸ì •ì ì¸ íƒœë„ëŠ” ê¸ì •ì ì¸ ê²°ê³¼ë¥¼ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œëŠ” ê¿ˆì— ê¸°í•œì„ ì •í•œ ê²ƒì´ë‹¤", author: "ë‚˜í´ë ˆì˜¹ í" },
      { text: "ì§„ì •í•œ ì‹¤íŒ¨ëŠ” ì‹œë„í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤", author: "ì¡°ì§€ í´ë£¨ë‹ˆ" },
      { text: "ì„±ê³µì€ ì¤€ë¹„ê°€ ê¸°íšŒë¥¼ ë§Œë‚¬ì„ ë•Œ ì¼ì–´ë‚œë‹¤", author: "ë°”ë¹„ ì–¸ì„œ" },
      { text: "ë‹¹ì‹ ì´ ìƒìƒí•  ìˆ˜ ìˆë‹¤ë©´, ì´ë£° ìˆ˜ ìˆë‹¤", author: "ì›”íŠ¸ ë””ì¦ˆë‹ˆ" },
      { text: "ì§€ê¸ˆ ì‹œì‘í•˜ë¼. ì™„ë²½í•œ ë•ŒëŠ” ì—†ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ìœ ì¼í•œ í•œê³„ëŠ” ë‹¹ì‹  ìì‹ ì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ê²°ì½” ìš°ì—°ì´ ì•„ë‹ˆë‹¤", author: "ìµëª…" },
      { text: "ëª¨ë“  ì„±ì·¨ëŠ” ì‹œë„í•˜ë ¤ëŠ” ì˜ì§€ì—ì„œ ì‹œì‘ëœë‹¤", author: "ì œì„ìŠ¤ ì›Œë„ˆ" },
      { text: "ê¿ˆì„ ê¾¸ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤. í–‰ë™í•˜ë¼", author: "ìµëª…" },
      { text: "ì–´ë ¤ìš´ ì¼ì„ í•˜ëŠ” ê²ƒì´ ì‰¬ìš´ ì‚¶ì„ ë§Œë“ ë‹¤", author: "ë ˆìŠ¤ ë¸Œë¼ìš´" },
      { text: "ì„±ê³µì˜ ë¹„ê²°ì€ ëª©í‘œì— ì§‘ì¤‘í•˜ëŠ” ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì´ ì›í•˜ëŠ” ê²ƒì„ ì–»ê¸° ìœ„í•´ ë…¸ë ¥í•˜ë¼", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ ìµœì„ ì„ ë‹¤í•˜ë©´ ë‚´ì¼ì€ ë” ë‚˜ì•„ì§„ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ì¤€ë¹„ì™€ ë…¸ë ¥ì˜ ê²°ê³¼ë‹¤", author: "ì½œë¦° íŒŒì›”" },
      { text: "ë‹¹ì‹ ì˜ íƒœë„ê°€ ë‹¹ì‹ ì˜ ê³ ë„ë¥¼ ê²°ì •í•œë‹¤", author: "ì§€ê·¸ ì§€ê¸€ëŸ¬" },
      { text: "ë‘ë ¤ì›€ì„ ê·¹ë³µí•˜ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ í–‰ë™í•˜ëŠ” ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì¡°ê¸ˆì”© ë‚˜ì•„ì§€ëŠ” ê²ƒì´ ì™„ë²½ìœ¼ë¡œ ê°€ëŠ” ê¸¸ì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ëŠ” ì‚¬ëŒê³¼ ì‹¤íŒ¨í•˜ëŠ” ì‚¬ëŒì˜ ì°¨ì´ëŠ” í–‰ë™ì´ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•´ í•œ ê±¸ìŒì”© ë‚˜ì•„ê°€ë¼", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ì˜ ê³ í†µì€ ë‚´ì¼ì˜ í˜ì´ ëœë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë§¤ì¼ ë°˜ë³µë˜ëŠ” ì‘ì€ ìŠµê´€ì˜ ê²°ê³¼ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì´ í•  ìˆ˜ ìˆëŠ” ìµœì„ ì„ ë‹¤í•˜ë¼", author: "ì•¤ë“œë¥˜ ì¹´ë„¤ê¸°" },
      { text: "ì„±ê³µì€ ë§ˆì§€ë§‰ê¹Œì§€ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ìì˜ ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ í˜„ì¬ëŠ” ê³¼ê±°ì˜ ì„ íƒ, ë¯¸ë˜ëŠ” ì˜¤ëŠ˜ì˜ ì„ íƒì´ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì„¸ìš°ê³  ê³„íšì„ ì‹¤í–‰í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ë¨¼ì € ì‹œì‘í•´ì•¼ í•œë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥ì€ ë°°ì‹ í•˜ì§€ ì•ŠëŠ”ë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ í•˜ë£¨ë¥¼ ìµœì„ ìœ¼ë¡œ ì‚´ì•„ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ì¤€ë¹„ëœ ìì—ê²Œë§Œ ì˜¨ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê¿ˆì€ ë‹¹ì‹ ì˜ ë…¸ë ¥ë§Œí¼ ì»¤ì§„ë‹¤", author: "ìµëª…" },
      { text: "í¬ê¸°í•˜ì§€ ì•ŠëŠ” í•œ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì„±ì¥í•˜ëŠ” ìì‹ ì„ ë§Œë“¤ì–´ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì˜ ì§€ë¦„ê¸¸ì€ ì—†ë‹¤. ê¾¸ì¤€í•¨ì´ ë‹µì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ë‹¹ì‹ ì˜ ë¯¸ë˜ë¥¼ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•œ ì—¬ì •ì„ ì¦ê²¨ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ í•˜ë£¨ì•„ì¹¨ì— ì˜¤ì§€ ì•ŠëŠ”ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì´ í•  ìˆ˜ ìˆë‹¤ê³  ë¯¿ìœ¼ë©´ ë°˜ì€ ì´ë£¬ ê²ƒì´ë‹¤", author: "ì‹œì–´ë„ì–´ ë£¨ìŠ¤ë²¨íŠ¸" },
      { text: "ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ê³  ë„ì „í•˜ë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì¡°ê¸ˆì”© ë°œì „í•˜ëŠ” ê²ƒì´ ì„±ê³µì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ í•œê³„ë¥¼ ë„˜ì–´ì„œë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ì˜¬ë°”ë¥¸ ìŠµê´€ì—ì„œ ì‹œì‘ëœë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ í•  ìˆ˜ ìˆëŠ” ì¼ì„ ë¯¸ë£¨ì§€ ë§ˆë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ëª©í‘œë¥¼ ëª…í™•íˆ í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ëŠ” ì‚¬ëŒì€ ëê¹Œì§€ ê°„ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ì—´ì •ì´ ì„±ê³µì„ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ìµœì„ ì„ ë‹¤í•˜ëŠ” ê²ƒì´ ì„±ê³µì˜ ì‹œì‘ì´ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì´ë£¨ê¸° ìœ„í•´ í–‰ë™í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ê³„íšê³¼ ì‹¤í–‰ì˜ ê²°ê³¼ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë…¸ë ¥ì€ í—›ë˜ì§€ ì•ŠëŠ”ë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ì˜ ì„ íƒì´ ë‚´ì¼ì„ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ì§‘ì¤‘í•˜ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê°€ëŠ¥ì„±ì„ ë¯¿ìœ¼ë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì„±ì¥í•˜ëŠ” ì‚¶ì„ ì‚´ì•„ë¼", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•´ ê¾¸ì¤€íˆ ë‚˜ì•„ê°€ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë‹¹ì‹ ì´ ë§Œë“œëŠ” ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë¯¸ë˜ëŠ” ì˜¤ëŠ˜ ì‹œì‘ëœë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥í•˜ëŠ” ë§Œí¼ ì„±ì¥í•œë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ í¬ê¸°í•˜ì§€ ë§ˆë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê¿ˆì„ í˜„ì‹¤ë¡œ ë§Œë“¤ì–´ë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ í•œ ê±¸ìŒì”© ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ë¼", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì´ë£¨ëŠ” ì—´ì‡ ëŠ” ê¾¸ì¤€í•¨ì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë‹¹ì‹ ì˜ ì„ íƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ê¸°ì ì„ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ ìµœì„ ì„ ë‹¤í•˜ëŠ” ê²ƒì´ ì„±ê³µì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ë¨¼ì € ë¯¿ì–´ì•¼ í•œë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê°€ëŠ¥ì„±ì€ ë¬´í•œí•˜ë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ë„ì „í•˜ëŠ” ì‚¶ì„ ì‚´ì•„ë¼", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•œ ì—´ì •ì„ ìƒì§€ ë§ˆë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ì¤€ë¹„ëœ ìì˜ ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ í–‰ë™ì´ ë¯¸ë˜ë¥¼ ê²°ì •í•œë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥ ì—†ì´ëŠ” ì•„ë¬´ê²ƒë„ ì´ë£° ìˆ˜ ì—†ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ê³„ì† ë‚˜ì•„ê°€ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê¿ˆì„ í¬ê¸°í•˜ì§€ ë§ˆë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì„±ì¥í•˜ëŠ” ìì‹ ì„ ë°œê²¬í•˜ë¼", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì´ë£¨ê¸° ìœ„í•´ ìµœì„ ì„ ë‹¤í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë‹¹ì‹ ì˜ íƒœë„ì— ë‹¬ë ¤ìˆë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë…¸ë ¥ì€ ë°˜ë“œì‹œ ë³´ìƒë°›ëŠ”ë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ë‚´ì¼ë„ ì—†ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ í–‰ë™ìœ¼ë¡œ ì¦ëª…í•˜ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë¯¸ë˜ëŠ” ë‹¹ì‹  ì†ì— ìˆë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ë…¸ë ¥í•˜ëŠ” ê²ƒì´ ì„±ê³µì˜ ë¹„ê²°ì´ë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•´ ëŠì„ì—†ì´ ë„ì „í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë‹¹ì‹ ì´ ì–¼ë§ˆë‚˜ ì›í•˜ëŠëƒì— ë‹¬ë ¤ìˆë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ì—´ì •ì´ ê¸¸ì„ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥í•˜ëŠ” ìë§Œì´ ì„±ê³µí•œë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ì˜¤ëŠ˜ í–‰ë™í•˜ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê¿ˆì€ ë‹¹ì‹ ì˜ ê²ƒì´ë‹¤", author: "ìµëª…" },
      { text: "ë§¤ì¼ ìµœì„ ì„ ë‹¤í•˜ë©´ ê¸°ì ì´ ì¼ì–´ë‚œë‹¤", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ ì´ë£¨ëŠ” ê²ƒì€ ë‹¹ì‹ ì˜ ì„ íƒì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µì€ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ìì˜ ëª«ì´ë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ë‹¹ì‹ ì„ ë³€í™”ì‹œí‚¨ë‹¤", author: "ìµëª…" },
      { text: "ì˜¤ëŠ˜ì˜ ë…¸ë ¥ì´ ë‚´ì¼ì˜ ì„±ê³µì„ ë§Œë“ ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ê¿ˆì„ í¬ê²Œ ê°€ì ¸ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê°€ëŠ¥ì„±ì„ ì˜ì‹¬í•˜ì§€ ë§ˆë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì„±ì¥í•˜ëŠ” ìŠµê´€ì„ ë§Œë“¤ì–´ë¼", author: "ìµëª…" },
      { text: "ëª©í‘œë¥¼ í–¥í•´ í•œ ê±¸ìŒì”© ì „ì§„í•˜ë¼", author: "ìµëª…" },
      { text: "ì„±ê³µì€ ë‹¹ì‹ ì˜ ê²°ë‹¨ì—ì„œ ì‹œì‘ëœë‹¤", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ë¯¸ë˜ëŠ” ì˜¤ëŠ˜ ë§Œë“¤ì–´ì§„ë‹¤", author: "ìµëª…" },
      { text: "ë…¸ë ¥í•˜ëŠ” ì‚¶ì´ ê°€ì¹˜ ìˆëŠ” ì‚¶ì´ë‹¤", author: "ìµëª…" },
      { text: "ì„±ê³µí•˜ë ¤ë©´ ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ë¼", author: "ìµëª…" },
      { text: "ë‹¹ì‹ ì˜ ê¿ˆì„ ì‹¤í˜„í•˜ë¼", author: "ìµëª…" },
      { text: "ë§¤ì¼ ì¡°ê¸ˆì”© ë‚˜ì•„ê°€ë©´ ëª©í‘œì— ë„ë‹¬í•œë‹¤", author: "ìµëª…" }
    ];

    function showRandomQuote() {
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById('quote-text').innerText = `"${quote.text}"`;
      document.getElementById('quote-author').innerText = `- ${quote.author}`;
    }
    
    function showBottomQuote() {
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById('bottom-quote-text').innerText = `"${quote.text}"`;
      document.getElementById('bottom-quote-author').innerText = `- ${quote.author}`;
    }
    
    showRandomQuote();

    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('install-banner').style.display = 'block';
    });

    function installPWA() {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(() => {
          deferredPrompt = null;
          document.getElementById('install-banner').style.display = 'none';
        });
      }
    }

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js');
      });
    }

    firebase.initializeApp({
      apiKey: "AIzaSyCPCVWCmHP1hL7fdph1i1C-NR_LqQhYfFk",
      authDomain: "miracle100-bfaf1.firebaseapp.com",
      projectId: "miracle100-bfaf1",
      storageBucket: "miracle100-bfaf1.firebasestorage.app",
      messagingSenderId: "367375464724",
      appId: "1:367375464724:web:6fccf8438a9a070f3aea01"
    });

    const auth = firebase.auth();
    const db = firebase.firestore();

    function enterApp() {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then((result) => {
          console.log("ë¡œê·¸ì¸ ì„±ê³µ:", result.user);
        })
        .catch((error) => {
          console.error("ë¡œê·¸ì¸ ì—ëŸ¬:", error);
          alert("ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: " + error.message);
        });
    }

    auth.onAuthStateChanged(user => {
      if (user) {
        showMainContents(user);
      } else {
        document.getElementById('login-screen').style.display = 'block';
        document.getElementById('main-screen').style.display = 'none';
      }
    });

    async function showMainContents(user) {
      await loadChallenges(user.uid);
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('main-screen').style.display = 'block';
      document.getElementById('welcome-msg').innerText = `${user.displayName}ë‹˜ì˜ 100ì¼ ì±Œë¦°ì§€ í˜„í™©`;
      showBottomQuote();
    }

    async function loadChallenges(uid) {
      const snapshot = await db.collection('challenges').where('uid', '==', uid).get();
      const listDiv = document.getElementById('challenge-list');
      const summaryList = document.getElementById('summary-list');
      listDiv.innerHTML = '';
      summaryList.innerHTML = '';

      if (snapshot.empty) {
        summaryList.innerHTML = '<p style="color:#ccc; font-size:0.9rem;">ğŸ’¡ ì±Œë¦°ì§€ë¥¼ ì¶”ê°€í•˜ê³  ëª©í‘œ ë‹¬ì„±ì„ ì‹œì‘í•˜ì„¸ìš”!</p>';
        return;
      }

      snapshot.forEach(doc => {
        const data = doc.data();
        const completedDays = data.completedDays || [];
        const progress = Math.round((completedDays.length / 100) * 100);

        summaryList.innerHTML += `
          <div class="summary-item">
            <div class="summary-info"><span>ğŸ”¥ ${data.title}</span><span>${progress}%</span></div>
            <div class="summary-bar-bg"><div class="summary-bar-fill" style="width:${progress}%"></div></div>
          </div>
        `;

        const card = document.createElement('div');
        card.className = 'project-card';
        card.innerHTML = `
          <div class="grid-header">
            <h3>${data.title}</h3>
            <button class="del-btn" onclick="deleteChallenge('${doc.id}')">ì‚­ì œ</button>
          </div>
          <div class="progress-bg"><div class="progress-fill" style="width:${progress}%"></div></div>
          <div class="grid-container" id="grid-${doc.id}"></div>
        `;
        listDiv.appendChild(card);

        const grid = document.getElementById(`grid-${doc.id}`);
        for (let i = 1; i <= 100; i++) {
          const cell = document.createElement('div');
          cell.className = `day-cell ${completedDays.includes(i) ? 'done' : ''}`;
          cell.innerText = i;
          cell.onclick = () => toggleDay(doc.id, i, completedDays);
          grid.appendChild(cell);
        }
      });
    }

    async function createNewChallenge() {
      const title = prompt("ì–´ë–¤ ì±Œë¦°ì§€ë¥¼ ì‹œì‘í• ê¹Œìš”?\n\nì˜ˆì‹œ:\n- ë§¤ì¼ ìš´ë™ 30ë¶„\n- ì˜ì–´ ë‹¨ì–´ 20ê°œ\n- ë¬¼ 2L ë§ˆì‹œê¸°");
      if (!title) return;
      await db.collection('challenges').add({ 
        uid: auth.currentUser.uid, 
        title, 
        completedDays: [], 
        createdAt: firebase.firestore.FieldValue.serverTimestamp() 
      });
      loadChallenges(auth.currentUser.uid);
    }

    async function toggleDay(docId, day, completedDays) {
      const newDays = completedDays.includes(day) 
        ? completedDays.filter(d => d !== day) 
        : [...completedDays, day];
      await db.collection('challenges').doc(docId).update({ completedDays: newDays });
      loadChallenges(auth.currentUser.uid);
    }

    async function deleteChallenge(docId) {
      if (confirm("ì •ë§ ì‚­ì œí• ê¹Œìš”?\n\nâš ï¸ ì‚­ì œí•˜ë©´ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")) {
        await db.collection('challenges').doc(docId).delete();
        loadChallenges(auth.currentUser.uid);
      }
    }
  </script>
</body>
</html>
